{{#extends 'base'}}

{{#block 'subtitle'}}
Products
{{/block}}

{{#block 'content'}}

<h1 class="mt-3">{{product.brand.brand}} {{product.model}}</h1>

<div class="container row">
  <div class="col-6">
    <img class="img-fluid" src="{{product.image_url}}" alt="Image of fountain pen">
  </div>
  <div class="col-6">
    <h4>Specifications</h4>
    <ul>
      <li>Diameter: {{product.diameter}} mm</li>
      <li>Length: {{product.length}} mm</li>
      <li>Weight: {{product.weight}} g</li>
      <li>Cap Type: {{product.capType.cap_type}}</li>
      <li>Sale Status: {{product.saleStatus.sale_status}}</li>
    </ul>

    <h4>Description</h4>
    <p>{{product.description}}</p>
  </div>
</div>


<h2>Variants</h2>
<div class="d-flex justify-content-end mb-3">
  <a href="/products/{{product.id}}/variants/create" class="btn btn-primary">Add Variant</a>
</div>
<table class='table table-striped table-sm table-responsive'>
  <thead>
    <tr>
      <th>ID</th>
      <th>Image</th>
      <th>Nib Specifications</th>
      <th>Color</th>
      <th>Cost</th>
      <th>Stock</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    {{#each variants}}
    <tr>
      <td>{{this.id}}</td>
      <td>
        <img src="{{this.thumbnail_url}}" alt="Thumbnail image of fountain pen">
      </td>
      <td>
        Material: {{this.nibMaterial.nib_material}} <br />
        Shape: {{this.nibShape.nib_shape}} <br />
        Size: {{this.nibSize.nib_size}} <br />
        Flexibility: {{this.nibFlexibility.nib_flexibility}} <br />
      </td>
      <td>{{this.color.color}}</td>
      <td>${{divide this.cost 100}}</td>
      <td>{{this.stock}}</td>
      <td>
        <a href="/products/{{this.fountain_pen_id}}/variants/update" class="btn btn-primary btn-sm">Edit</a>
        <a href="/products/{{this.fountain_pen_id}}/variants/delete" class="btn btn-danger btn-sm">Delete</a>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

{{/block}}

{{/extends}}